<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Bot谩nico - Del Loco al Mundo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Cinzel:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --forest-dark: #1a2f1a;
            --forest-deep: #0d1a0d;
            --moss-green: #4a6741;
            --sage: #8ba888;
            --gold: #d4af37;
            --silver: #c0c0c0;
            --earth: #3d2817;
            --cream: #f5f1e8;
        }
        
        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(135deg, var(--forest-deep) 0%, var(--forest-dark) 50%, #1a3a2e 100%);
            color: var(--cream);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(74, 103, 65, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInDown 1s ease-out;
        }
        
        h1 {
            font-family: 'Cinzel', serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            color: var(--gold);
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--sage);
            font-style: italic;
            letter-spacing: 0.05em;
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 3rem;
            animation: fadeIn 1s ease-out 0.3s both;
        }
        
        button {
            font-family: 'Cinzel', serif;
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, var(--moss-green), var(--forest-dark));
            border: 2px solid var(--gold);
            color: var(--cream);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 2px;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(212, 175, 55, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        button:hover::before {
            width: 300px;
            height: 300px;
        }
        
        button:hover {
            border-color: var(--gold);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            transform: translateY(-2px);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button span {
            position: relative;
            z-index: 1;
        }
        
        .spread-info {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(74, 103, 65, 0.2);
            border: 1px solid var(--moss-green);
            border-radius: 4px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .spread-info h2 {
            font-family: 'Cinzel', serif;
            color: var(--gold);
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        
        .cards-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            min-height: 500px;
            padding: 2rem;
            perspective: 1000px;
        }
        
        .card {
            width: 200px;
            height: 350px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            animation: cardAppear 0.6s ease-out backwards;
        }
        
        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }
        
        .card-back {
            background: linear-gradient(135deg, var(--forest-dark), var(--moss-green));
            border: 3px solid var(--gold);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .card-back::before {
            content: '';
            position: absolute;
            inset: 10px;
            border: 1px solid var(--gold);
            opacity: 0.3;
        }
        
        .card-back-pattern {
            width: 80%;
            height: 80%;
            background: 
                repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(212, 175, 55, 0.1) 10px, rgba(212, 175, 55, 0.1) 20px),
                repeating-linear-gradient(-45deg, transparent, transparent 10px, rgba(139, 168, 136, 0.1) 10px, rgba(139, 168, 136, 0.1) 20px);
        }
        
        .card-front {
            background: var(--cream);
            border: 3px solid var(--earth);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            padding: 1rem;
        }
        
        .card-number {
            font-family: 'Cinzel', serif;
            font-size: 0.9rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .card-title {
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            color: var(--earth);
            text-align: center;
            margin-bottom: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.02em;
        }
        
        .card-image {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            position: relative;
            overflow: hidden;
            border-radius: 4px;
        }
        
        .card-meaning {
            font-size: 0.75rem;
            color: var(--moss-green);
            text-align: center;
            line-height: 1.3;
            font-style: italic;
        }
        
        .interpretation {
            max-width: 800px;
            margin: 3rem auto 0;
            padding: 2rem;
            background: rgba(29, 47, 26, 0.6);
            border: 2px solid var(--moss-green);
            border-radius: 8px;
            animation: fadeIn 0.8s ease-out;
            backdrop-filter: blur(10px);
        }
        
        .interpretation h3 {
            font-family: 'Cinzel', serif;
            color: var(--gold);
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.5rem;
        }
        
        .interpretation p {
            line-height: 1.8;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .position-label {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            color: var(--sage);
            white-space: nowrap;
            letter-spacing: 0.05em;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* SVG Illustrations for each card */
        .seed-svg { fill: var(--gold); }
        .root-svg { fill: var(--cream); stroke: var(--moss-green); }
        .water-svg { fill: var(--silver); opacity: 0.8; }
        .earth-svg { fill: var(--earth); }
        .trunk-svg { fill: var(--earth); }
        .mycelium-svg { fill: var(--cream); opacity: 0.9; }
        .branch-svg { fill: var(--moss-green); }
        .sap-svg { fill: #90ee90; }
        .core-svg { fill: var(--gold); }
        .winter-svg { fill: var(--silver); }
        .rings-svg { stroke: var(--earth); fill: none; }
        .prune-svg { fill: var(--earth); }
        .leaf-svg { fill: #ff8c00; }
        .humus-svg { fill: var(--earth); }
        .photosynthesis-svg { fill: #90ee90; }
        .ivy-svg { fill: #2d5016; }
        .lightning-svg { fill: #ffeb3b; }
        .dew-svg { fill: var(--silver); }
        .shadow-svg { fill: #1a1a2e; }
        .fruit-svg { fill: var(--gold); }
        .seeds-svg { fill: var(--cream); }
        .ecosystem-svg { fill: var(--moss-green); }
        
        @media (max-width: 768px) {
            .card {
                width: 160px;
                height: 280px;
            }
            
            .cards-container {
                gap: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1> Tarot Bot谩nico </h1>
            <p class="subtitle">Del Loco al Mundo - Un viaje desde la semilla hasta el ecosistema</p>
        </header>
        
        <div class="controls">
            <button onclick="drawSpread('single')"><span>Carta del D铆a</span></button>
            <button onclick="drawSpread('three')"><span>Tirada de Tres Cartas</span></button>
            <button onclick="drawSpread('cross')"><span>Cruz Celta</span></button>
            <button onclick="drawSpread('tree')"><span>Tirada del rbol (5 cartas)</span></button>
        </div>
        
        <div id="spread-info" class="spread-info" style="display: none;"></div>
        <div id="cards" class="cards-container"></div>
        <div id="interpretation" class="interpretation" style="display: none;"></div>
    </div>

    <script>
        const tarotCards = [
            {
                number: "0",
                name: "La Semilla Latente",
                arcana: "El Loco",
                image: "seed",
                meaning: "Inicio absoluto, inocencia, potencial infinito y confianza ciega en la vida.",
                fullMeaning: "Representa el momento antes de tomar tierra, la energ铆a pura antes de la manifestaci贸n. Un salto de fe hacia la existencia."
            },
            {
                number: "I",
                name: "La Ra铆z Primaria",
                arcana: "El Mago",
                image: "root",
                meaning: "Voluntad y manifestaci贸n. Tienes las herramientas para comenzar a crecer.",
                fullMeaning: "Es la conexi贸n entre el cielo y la tierra. Acci贸n consciente y canalizaci贸n de energ铆a para crear realidad."
            },
            {
                number: "II",
                name: "El Agua Subterr谩nea",
                arcana: "La Sacerdotisa",
                image: "water",
                meaning: "Intuici贸n, sabidur铆a oculta y subconsciente. Lo que nutre pero no se ve.",
                fullMeaning: "Es el conocimiento interior y los recursos emocionales profundos que sustentan la vida sin hacer ruido."
            },
            {
                number: "III",
                name: "La Madre Tierra",
                arcana: "La Emperatriz",
                image: "earth",
                meaning: "Fertilidad, abundancia y creatividad. La naturaleza en su m谩xima expresi贸n.",
                fullMeaning: "Placer sensorial, belleza y el cuidado materno que permite el crecimiento f铆sico."
            },
            {
                number: "IV",
                name: "El Tronco",
                arcana: "El Emperador",
                image: "trunk",
                meaning: "Estructura, estabilidad y protecci贸n. La autoridad y las reglas necesarias.",
                fullMeaning: "La fortaleza que viene de la disciplina y el orden. L铆mites claros."
            },
            {
                number: "V",
                name: "El Micelio",
                arcana: "El Sumo Sacerdote",
                image: "mycelium",
                meaning: "Tradici贸n, creencias compartidas y educaci贸n. Conexi贸n con la sabidur铆a ancestral.",
                fullMeaning: "El 谩rbol no aprende solo; aprende a trav茅s de la red de los que vinieron antes."
            },
            {
                number: "VI",
                name: "La Bifurcaci贸n",
                arcana: "Los Enamorados",
                image: "branch",
                meaning: "Elecci贸n, uni贸n y armon铆a. La decisi贸n de c贸mo crecer.",
                fullMeaning: "La integraci贸n de dualidades y la cooperaci贸n. El compromiso con un camino o una alianza."
            },
            {
                number: "VII",
                name: "El Impulso de Savia",
                arcana: "El Carro",
                image: "sap",
                meaning: "Determinaci贸n, fuerza de voluntad y victoria sobre la inercia.",
                fullMeaning: "Avance r谩pido y direcci贸n controlada. Superar obst谩culos mediante la fuerza interior."
            },
            {
                number: "VIII",
                name: "El Duramen",
                arcana: "La Fuerza",
                image: "core",
                meaning: "Coraje, resistencia pasiva y compasi贸n. Solidez interior.",
                fullMeaning: "No es fuerza bruta, sino la solidez interior que permite aguantar las tormentas sin romperse."
            },
            {
                number: "IX",
                name: "La Dormancia",
                arcana: "El Ermita帽o",
                image: "winter",
                meaning: "Introspecci贸n, soledad necesaria y b煤squeda interior.",
                fullMeaning: "Retirarse del mundo exterior para conservar energ铆a y encontrar respuestas dentro."
            },
            {
                number: "X",
                name: "Los Anillos de Crecimiento",
                arcana: "La Rueda de la Fortuna",
                image: "rings",
                meaning: "Ciclos, destino y cambio inevitable. Todo es estacional.",
                fullMeaning: "Lo que sube baja, y los tiempos dif铆ciles pasan al igual que los buenos."
            },
            {
                number: "XI",
                name: "La Poda",
                arcana: "La Justicia",
                image: "prune",
                meaning: "Causa y efecto, verdad y ajuste. Cortar lo que ya no sirve.",
                fullMeaning: "Decisiones fr铆as pero necesarias. Equilibrio y responsabilidad por las propias acciones."
            },
            {
                number: "XII",
                name: "La Hoja Colgante",
                arcana: "El Colgado",
                image: "leaf",
                meaning: "Pausa, sacrificio y nueva perspectiva. Dejar ir el control.",
                fullMeaning: "Estar en un limbo necesario para la transformaci贸n. Ver el mundo desde un 谩ngulo diferente."
            },
            {
                number: "XIII",
                name: "El Humus",
                arcana: "La Muerte",
                image: "humus",
                meaning: "Transformaci贸n profunda, final y renacimiento.",
                fullMeaning: "No es el fin de la vida, sino el cambio de estado. La descomposici贸n de lo viejo es el fertilizante obligatorio para lo nuevo."
            },
            {
                number: "XIV",
                name: "La Fotos铆ntesis",
                arcana: "La Templanza",
                image: "photosynthesis",
                meaning: "Alquimia, equilibrio y moderaci贸n. La mezcla correcta de elementos.",
                fullMeaning: "Paciencia y adaptaci贸n armoniosa al entorno para crear sanaci贸n y sustento."
            },
            {
                number: "XV",
                name: "La Hiedra Asfixiante",
                arcana: "El Diablo",
                image: "ivy",
                meaning: "Ataduras, adicciones y materialismo. Dependencias que restringen la libertad.",
                fullMeaning: "Dependencias que parecen inofensivas al principio pero que terminan restringiendo el crecimiento."
            },
            {
                number: "XVI",
                name: "El Rayo",
                arcana: "La Torre",
                image: "lightning",
                meaning: "Cambio repentino, destrucci贸n de estructuras falsas y revelaci贸n impactante.",
                fullMeaning: "El colapso del ego o de una situaci贸n insostenible. Doloroso, pero liberador a largo plazo."
            },
            {
                number: "XVII",
                name: "El Roc铆o Matinal",
                arcana: "La Estrella",
                image: "dew",
                meaning: "Esperanza, sanaci贸n y renovaci贸n espiritual. La calma despu茅s de la tormenta.",
                fullMeaning: "Inspiraci贸n pura y fe en el futuro. Conexi贸n con el cosmos."
            },
            {
                number: "XVIII",
                name: "La Sombra del Bosque",
                arcana: "La Luna",
                image: "shadow",
                meaning: "Ilusi贸n, miedo y confusi贸n. El reino de los sue帽os y las pesadillas.",
                fullMeaning: "Lo que no es lo que parece. Navegar por la incertidumbre y confiar en el instinto."
            },
            {
                number: "XIX",
                name: "El Fruto Maduro",
                arcana: "El Sol",
                image: "fruit",
                meaning: "xito, alegr铆a y vitalidad. Realizaci贸n plena.",
                fullMeaning: "Claridad absoluta y felicidad compartida. El resultado tangible y positivo del trabajo realizado."
            },
            {
                number: "XX",
                name: "La Dispersi贸n",
                arcana: "El Juicio",
                image: "seeds",
                meaning: "El llamado, despertar y renacimiento. Evaluaci贸n final.",
                fullMeaning: "El momento de responder a tu vocaci贸n superior y expandirte hacia una nueva fase de existencia."
            },
            {
                number: "XXI",
                name: "El Ecosistema",
                arcana: "El Mundo",
                image: "ecosystem",
                meaning: "Completitud, integraci贸n y logro final. El ciclo se ha cerrado exitosamente.",
                fullMeaning: "Entender tu lugar en el todo. Plenitud y perfecci贸n."
            }
        ];

        const spreads = {
            single: {
                name: "Carta del D铆a",
                description: "Una carta para guiar tu jornada",
                positions: ["Tu energ铆a de hoy"],
                count: 1
            },
            three: {
                name: "Tirada de Tres Cartas",
                description: "Pasado, Presente y Futuro",
                positions: ["Pasado", "Presente", "Futuro"],
                count: 3
            },
            cross: {
                name: "Cruz Celta Simplificada",
                description: "Una visi贸n profunda de tu situaci贸n actual",
                positions: ["Situaci贸n Actual", "Desaf铆o", "Pasado", "Futuro Cercano", "Resultado"],
                count: 5
            },
            tree: {
                name: "Tirada del rbol",
                description: "Explora tu crecimiento personal como un 谩rbol",
                positions: ["Ra铆ces (Base)", "Tronco (Fuerza)", "Ramas (Opciones)", "Hojas (Manifestaci贸n)", "Frutos (Resultado)"],
                count: 5
            }
        };

        function getCardSVG(imageType) {
            const svgs = {
                seed: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <defs>
                        <radialGradient id="seedGlow">
                            <stop offset="0%" style="stop-color:#d4af37;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#a0822a;stop-opacity:0.5" />
                        </radialGradient>
                    </defs>
                    <ellipse cx="50" cy="50" rx="12" ry="18" fill="url(#seedGlow)" class="seed-svg"/>
                    <circle cx="48" cy="45" r="3" fill="#f5f1e8" opacity="0.6"/>
                    <path d="M 45 55 Q 50 60 55 55" stroke="#a0822a" fill="none" stroke-width="1"/>
                </svg>`,
                
                root: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <line x1="50" y1="20" x2="50" y2="80" stroke="#f5f1e8" stroke-width="4" class="root-svg"/>
                    <line x1="50" y1="40" x2="35" y2="65" stroke="#f5f1e8" stroke-width="2" class="root-svg"/>
                    <line x1="50" y1="50" x2="65" y2="70" stroke="#f5f1e8" stroke-width="2" class="root-svg"/>
                    <circle cx="50" cy="20" r="8" fill="#90ee90"/>
                    <circle cx="35" cy="65" r="3" fill="#8ba888"/>
                    <circle cx="65" cy="70" r="3" fill="#8ba888"/>
                </svg>`,
                
                water: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 10 50 Q 30 40 50 50 T 90 50" stroke="#c0c0c0" fill="none" stroke-width="3" class="water-svg"/>
                    <path d="M 15 55 Q 35 48 55 55 T 85 55" stroke="#c0c0c0" fill="none" stroke-width="2" class="water-svg" opacity="0.6"/>
                    <circle cx="30" cy="45" r="4" fill="#c0c0c0" opacity="0.7"/>
                    <circle cx="70" cy="48" r="3" fill="#c0c0c0" opacity="0.5"/>
                    <ellipse cx="50" cy="30" rx="15" ry="8" fill="#c0c0c0" opacity="0.3"/>
                </svg>`,
                
                earth: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="10" y="40" width="80" height="40" fill="#3d2817" class="earth-svg"/>
                    <circle cx="30" cy="50" r="3" fill="#5a3a1a"/>
                    <circle cx="70" cy="55" r="4" fill="#5a3a1a"/>
                    <circle cx="50" cy="65" r="2" fill="#5a3a1a"/>
                    <path d="M 20 35 Q 30 30 40 35" stroke="#4a6741" fill="none" stroke-width="2"/>
                    <path d="M 60 38 Q 70 33 80 38" stroke="#4a6741" fill="none" stroke-width="2"/>
                </svg>`,
                
                trunk: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="35" y="10" width="30" height="80" fill="#3d2817" class="trunk-svg"/>
                    <path d="M 40 20 L 40 90" stroke="#5a3a1a" stroke-width="2"/>
                    <path d="M 45 25 L 45 85" stroke="#5a3a1a" stroke-width="1.5"/>
                    <path d="M 55 30 L 55 88" stroke="#5a3a1a" stroke-width="1.5"/>
                    <path d="M 60 22 L 60 90" stroke="#5a3a1a" stroke-width="2"/>
                    <ellipse cx="45" cy="40" rx="3" ry="5" fill="#2a1810"/>
                </svg>`,
                
                mycelium: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <circle cx="50" cy="50" r="5" fill="#f5f1e8" class="mycelium-svg"/>
                    <line x1="50" y1="50" x2="30" y2="30" stroke="#f5f1e8" stroke-width="1.5"/>
                    <line x1="50" y1="50" x2="70" y2="35" stroke="#f5f1e8" stroke-width="1.5"/>
                    <line x1="50" y1="50" x2="35" y2="70" stroke="#f5f1e8" stroke-width="1.5"/>
                    <line x1="50" y1="50" x2="75" y2="65" stroke="#f5f1e8" stroke-width="1.5"/>
                    <circle cx="30" cy="30" r="3" fill="#f5f1e8"/>
                    <circle cx="70" cy="35" r="3" fill="#f5f1e8"/>
                    <circle cx="35" cy="70" r="3" fill="#f5f1e8"/>
                    <circle cx="75" cy="65" r="3" fill="#f5f1e8"/>
                    <line x1="30" y1="30" x2="20" y2="20" stroke="#f5f1e8" stroke-width="1" opacity="0.6"/>
                    <line x1="70" y1="35" x2="85" y2="25" stroke="#f5f1e8" stroke-width="1" opacity="0.6"/>
                </svg>`,
                
                branch: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 50 80 L 50 50" stroke="#4a6741" stroke-width="4" class="branch-svg"/>
                    <path d="M 50 50 Q 35 40 30 20" stroke="#4a6741" stroke-width="3" class="branch-svg"/>
                    <path d="M 50 50 Q 65 40 70 20" stroke="#4a6741" stroke-width="3" class="branch-svg"/>
                    <path d="M 30 20 Q 28 18 26 20" stroke="#4a6741" stroke-width="2"/>
                    <path d="M 70 20 Q 72 18 74 20" stroke="#4a6741" stroke-width="2"/>
                    <circle cx="30" cy="20" r="4" fill="#90ee90" opacity="0.7"/>
                    <circle cx="70" cy="20" r="4" fill="#90ee90" opacity="0.7"/>
                </svg>`,
                
                sap: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <defs>
                        <linearGradient id="sapFlow" x1="0%" y1="100%" x2="0%" y2="0%">
                            <stop offset="0%" style="stop-color:#4a6741;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#90ee90;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <rect x="42" y="10" width="16" height="80" fill="url(#sapFlow)" class="sap-svg"/>
                    <circle cx="50" cy="30" r="3" fill="#90ee90" opacity="0.8">
                        <animate attributeName="cy" values="70;20;70" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="50" r="3" fill="#90ee90" opacity="0.6">
                        <animate attributeName="cy" values="80;30;80" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="70" r="3" fill="#90ee90" opacity="0.4">
                        <animate attributeName="cy" values="90;40;90" dur="3s" repeatCount="indefinite"/>
                    </circle>
                </svg>`,
                
                core: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <defs>
                        <radialGradient id="coreGlow">
                            <stop offset="0%" style="stop-color:#d4af37;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#3d2817;stop-opacity:1" />
                        </radialGradient>
                    </defs>
                    <circle cx="50" cy="50" r="30" fill="url(#coreGlow)" class="core-svg"/>
                    <circle cx="50" cy="50" r="20" fill="#d4af37" opacity="0.5"/>
                    <circle cx="50" cy="50" r="10" fill="#f5f1e8" opacity="0.8"/>
                    <path d="M 30 40 Q 50 45 70 40" stroke="#a0822a" fill="none" stroke-width="1.5"/>
                    <path d="M 30 60 Q 50 55 70 60" stroke="#a0822a" fill="none" stroke-width="1.5"/>
                </svg>`,
                
                winter: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 50 80 L 50 20" stroke="#3d2817" stroke-width="4"/>
                    <path d="M 45 40 L 50 30 L 55 40" stroke="#3d2817" stroke-width="2" fill="none"/>
                    <circle cx="35" cy="30" r="2" fill="#c0c0c0" class="winter-svg"/>
                    <circle cx="65" cy="35" r="2" fill="#c0c0c0" class="winter-svg"/>
                    <circle cx="40" cy="50" r="1.5" fill="#c0c0c0" class="winter-svg"/>
                    <circle cx="70" cy="55" r="1.5" fill="#c0c0c0" class="winter-svg"/>
                    <circle cx="45" cy="70" r="2" fill="#c0c0c0" class="winter-svg"/>
                    <path d="M 48 45 L 52 45 L 50 42 Z" fill="#d4af37" opacity="0.6"/>
                </svg>`,
                
                rings: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <circle cx="50" cy="50" r="35" stroke="#3d2817" fill="none" stroke-width="2" class="rings-svg"/>
                    <circle cx="50" cy="50" r="28" stroke="#3d2817" fill="none" stroke-width="1.5" class="rings-svg"/>
                    <circle cx="50" cy="50" r="21" stroke="#3d2817" fill="none" stroke-width="1.5" class="rings-svg"/>
                    <circle cx="50" cy="50" r="14" stroke="#3d2817" fill="none" stroke-width="2" class="rings-svg"/>
                    <circle cx="50" cy="50" r="7" stroke="#3d2817" fill="none" stroke-width="1" class="rings-svg"/>
                    <circle cx="50" cy="50" r="40" stroke="#3d2817" fill="none" stroke-width="1" class="rings-svg" opacity="0.5"/>
                </svg>`,
                
                prune: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 50 80 L 50 40" stroke="#3d2817" stroke-width="4" class="prune-svg"/>
                    <path d="M 50 40 Q 35 30 25 20" stroke="#3d2817" stroke-width="3" class="prune-svg"/>
                    <path d="M 50 40 Q 65 30 75 20" stroke="#3d2817" stroke-width="3" stroke-dasharray="5,5" class="prune-svg" opacity="0.4"/>
                    <line x1="70" y1="25" x2="80" y2="15" stroke="#c0c0c0" stroke-width="2"/>
                    <path d="M 75 22 L 78 15 L 82 18" fill="none" stroke="#c0c0c0" stroke-width="1.5"/>
                </svg>`,
                
                leaf: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <defs>
                        <linearGradient id="leafGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff8c00;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d2691e;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <ellipse cx="50" cy="45" rx="20" ry="30" fill="url(#leafGrad)" class="leaf-svg" transform="rotate(15 50 45)"/>
                    <path d="M 50 20 L 50 70" stroke="#8b4513" stroke-width="1.5"/>
                    <path d="M 50 30 Q 40 35 35 45" stroke="#8b4513" stroke-width="1" fill="none"/>
                    <path d="M 50 40 Q 60 45 65 55" stroke="#8b4513" stroke-width="1" fill="none"/>
                    <line x1="50" y1="70" x2="50" y2="85" stroke="#8ba888" stroke-width="0.5" stroke-dasharray="2,2"/>
                </svg>`,
                
                humus: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="10" y="50" width="80" height="35" fill="#3d2817" class="humus-svg"/>
                    <circle cx="25" cy="60" r="4" fill="#2a1810"/>
                    <circle cx="45" cy="70" r="3" fill="#2a1810"/>
                    <circle cx="70" cy="65" r="5" fill="#2a1810"/>
                    <ellipse cx="35" cy="75" rx="6" ry="3" fill="#4a6741" opacity="0.6"/>
                    <path d="M 50 50 Q 52 40 54 30" stroke="#90ee90" stroke-width="2" fill="none"/>
                    <circle cx="54" cy="30" r="3" fill="#90ee90"/>
                    <path d="M 54 30 Q 52 25 54 20" stroke="#90ee90" stroke-width="1.5" fill="none"/>
                </svg>`,
                
                photosynthesis: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <defs>
                        <radialGradient id="sunGrad">
                            <stop offset="0%" style="stop-color:#ffeb3b;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#ffd700;stop-opacity:0" />
                        </radialGradient>
                    </defs>
                    <ellipse cx="50" cy="50" rx="25" ry="15" fill="#90ee90" class="photosynthesis-svg"/>
                    <path d="M 50 40 L 50 60" stroke="#4a6741" stroke-width="2"/>
                    <circle cx="30" cy="20" r="15" fill="url(#sunGrad)" opacity="0.7"/>
                    <line x1="30" y1="20" x2="45" y2="42" stroke="#ffd700" stroke-width="2"/>
                    <circle cx="65" cy="55" r="4" fill="#4169e1" opacity="0.6"/>
                    <circle cx="60" cy="60" r="2" fill="#4169e1" opacity="0.5"/>
                </svg>`,
                
                ivy: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="40" y="10" width="20" height="80" fill="#3d2817"/>
                    <path d="M 35 20 Q 30 30 35 40 T 35 60 T 35 80" stroke="#2d5016" stroke-width="4" fill="none" class="ivy-svg"/>
                    <path d="M 65 25 Q 70 35 65 45 T 65 65 T 65 85" stroke="#2d5016" stroke-width="4" fill="none" class="ivy-svg"/>
                    <ellipse cx="32" cy="30" rx="4" ry="6" fill="#2d5016" class="ivy-svg"/>
                    <ellipse cx="68" cy="35" rx="4" ry="6" fill="#2d5016" class="ivy-svg"/>
                    <ellipse cx="32" cy="50" rx="4" ry="6" fill="#2d5016" class="ivy-svg"/>
                    <ellipse cx="68" cy="55" rx="4" ry="6" fill="#2d5016" class="ivy-svg"/>
                </svg>`,
                
                lightning: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="40" y="10" width="20" height="30" fill="#3d2817"/>
                    <path d="M 50 10 L 45 40 L 55 40 L 40 80 L 50 50 L 42 50 L 50 10" fill="#ffeb3b" class="lightning-svg" stroke="#ffd700" stroke-width="1"/>
                    <circle cx="30" cy="35" r="3" fill="#ff6b6b" opacity="0.7"/>
                    <circle cx="70" cy="40" r="3" fill="#ff6b6b" opacity="0.7"/>
                    <circle cx="45" cy="65" r="2" fill="#ff6b6b" opacity="0.5"/>
                </svg>`,
                
                dew: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 40 50 L 45 30 L 50 50" stroke="#3d2817" stroke-width="2" fill="none"/>
                    <path d="M 50 50 L 55 30 L 60 50" stroke="#3d2817" stroke-width="2" fill="none"/>
                    <circle cx="38" cy="45" r="3" fill="#c0c0c0" class="dew-svg" opacity="0.8"/>
                    <circle cx="45" cy="40" r="2.5" fill="#c0c0c0" class="dew-svg" opacity="0.9"/>
                    <circle cx="52" cy="42" r="3" fill="#c0c0c0" class="dew-svg" opacity="0.8"/>
                    <circle cx="58" cy="46" r="2" fill="#c0c0c0" class="dew-svg" opacity="0.7"/>
                    <circle cx="48" cy="52" r="2.5" fill="#c0c0c0" class="dew-svg" opacity="0.9"/>
                    <circle cx="50" cy="20" r="12" fill="#ffeb3b" opacity="0.3"/>
                </svg>`,
                
                shadow: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <rect x="35" y="10" width="30" height="50" fill="#3d2817"/>
                    <path d="M 40 30 Q 35 40 30 50 L 25 60" stroke="#1a1a2e" stroke-width="3" fill="none" class="shadow-svg"/>
                    <path d="M 60 35 Q 65 45 70 55 L 75 65" stroke="#1a1a2e" stroke-width="3" fill="none" class="shadow-svg"/>
                    <ellipse cx="30" cy="65" rx="8" ry="12" fill="#1a1a2e" class="shadow-svg" opacity="0.6"/>
                    <ellipse cx="70" cy="70" rx="10" ry="8" fill="#1a1a2e" class="shadow-svg" opacity="0.5"/>
                    <circle cx="50" cy="15" r="10" fill="#c0c0c0" opacity="0.3"/>
                </svg>`,
                
                fruit: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 50 20 L 40 40 L 30 50" stroke="#4a6741" stroke-width="3" fill="none"/>
                    <path d="M 50 20 L 60 40 L 70 50" stroke="#4a6741" stroke-width="3" fill="none"/>
                    <circle cx="30" cy="50" r="10" fill="#d4af37" class="fruit-svg"/>
                    <circle cx="70" cy="50" r="10" fill="#d4af37" class="fruit-svg"/>
                    <circle cx="50" cy="65" r="12" fill="#d4af37" class="fruit-svg"/>
                    <circle cx="28" cy="48" r="3" fill="#f5f1e8" opacity="0.5"/>
                    <circle cx="68" cy="48" r="3" fill="#f5f1e8" opacity="0.5"/>
                    <circle cx="48" cy="63" r="4" fill="#f5f1e8" opacity="0.5"/>
                    <circle cx="50" cy="10" r="15" fill="#ffd700" opacity="0.4"/>
                </svg>`,
                
                seeds: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <path d="M 50 50 L 30 20" stroke="#8ba888" stroke-width="1" stroke-dasharray="2,2"/>
                    <path d="M 50 50 L 70 25" stroke="#8ba888" stroke-width="1" stroke-dasharray="2,2"/>
                    <path d="M 50 50 L 25 60" stroke="#8ba888" stroke-width="1" stroke-dasharray="2,2"/>
                    <path d="M 50 50 L 75 65" stroke="#8ba888" stroke-width="1" stroke-dasharray="2,2"/>
                    <path d="M 50 50 L 40 80" stroke="#8ba888" stroke-width="1" stroke-dasharray="2,2"/>
                    <ellipse cx="30" cy="20" rx="3" ry="5" fill="#f5f1e8" class="seeds-svg"/>
                    <ellipse cx="70" cy="25" rx="3" ry="5" fill="#f5f1e8" class="seeds-svg"/>
                    <ellipse cx="25" cy="60" rx="3" ry="5" fill="#f5f1e8" class="seeds-svg"/>
                    <ellipse cx="75" cy="65" rx="3" ry="5" fill="#f5f1e8" class="seeds-svg"/>
                    <ellipse cx="40" cy="80" rx="3" ry="5" fill="#f5f1e8" class="seeds-svg"/>
                    <circle cx="50" cy="50" r="6" fill="#4a6741"/>
                </svg>`,
                
                ecosystem: `<svg viewBox="0 0 100 100" width="100%" height="100%">
                    <ellipse cx="50" cy="70" rx="40" ry="15" fill="#4a6741" class="ecosystem-svg" opacity="0.3"/>
                    <rect x="45" y="30" width="10" height="40" fill="#3d2817"/>
                    <circle cx="50" cy="25" r="20" fill="#4a6741" class="ecosystem-svg" opacity="0.7"/>
                    <circle cx="35" cy="20" r="12" fill="#4a6741" class="ecosystem-svg" opacity="0.6"/>
                    <circle cx="65" cy="22" r="15" fill="#4a6741" class="ecosystem-svg" opacity="0.6"/>
                    <path d="M 20 70 Q 25 65 30 70" stroke="#4169e1" stroke-width="2" fill="none"/>
                    <circle cx="15" cy="60" r="5" fill="#8ba888" opacity="0.5"/>
                    <circle cx="85" cy="65" r="4" fill="#8ba888" opacity="0.5"/>
                    <circle cx="50" cy="10" r="8" fill="#ffd700" opacity="0.4"/>
                </svg>`
            };
            
            return svgs[imageType] || svgs.seed;
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function drawSpread(spreadType) {
            const spread = spreads[spreadType];
            const shuffled = shuffleArray(tarotCards);
            const drawnCards = shuffled.slice(0, spread.count);
            
            // Show spread info
            const infoDiv = document.getElementById('spread-info');
            infoDiv.style.display = 'block';
            infoDiv.innerHTML = `
                <h2>${spread.name}</h2>
                <p>${spread.description}</p>
            `;
            
            // Clear and populate cards
            const cardsDiv = document.getElementById('cards');
            cardsDiv.innerHTML = '';
            
            drawnCards.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                cardDiv.innerHTML = `
                    <div class="card-face card-back">
                        <div class="card-back-pattern"></div>
                    </div>
                    <div class="card-face card-front">
                        <div class="card-number">${card.number}</div>
                        <div class="card-title">${card.name}</div>
                        <div class="card-image">
                            ${getCardSVG(card.image)}
                        </div>
                        <div class="card-meaning">${card.meaning}</div>
                    </div>
                    <div class="position-label">${spread.positions[index]}</div>
                `;
                
                // Add click to flip
                setTimeout(() => {
                    cardDiv.addEventListener('click', () => {
                        cardDiv.classList.toggle('flipped');
                    });
                }, 600 + (index * 100));
                
                cardsDiv.appendChild(cardDiv);
            });
            
            // Generate interpretation
            setTimeout(() => {
                showInterpretation(drawnCards, spread);
            }, 1500);
        }

        function showInterpretation(cards, spread) {
            const interpDiv = document.getElementById('interpretation');
            interpDiv.style.display = 'block';
            
            let html = '<h3>Interpretaci贸n de tu Tirada</h3>';
            
            cards.forEach((card, index) => {
                html += `
                    <p><strong>${spread.positions[index]}: ${card.name}</strong><br>
                    ${card.fullMeaning}</p>
                `;
            });
            
            // Add synthesis for multi-card spreads
            if (cards.length > 1) {
                html += `<p><em>Esta lectura te invita a contemplar c贸mo estas energ铆as bot谩nicas se entrelazan en tu vida. 
                Como un 谩rbol que crece desde la ra铆z hasta el fruto, tu camino es un proceso org谩nico de transformaci贸n y florecimiento.</em></p>`;
            }
            
            interpDiv.innerHTML = html;
        }

        // Initialize with a welcome message
        window.addEventListener('load', () => {
            const infoDiv = document.getElementById('spread-info');
            infoDiv.style.display = 'block';
            infoDiv.innerHTML = `
                <h2>Bienvenido al Tarot Bot谩nico</h2>
                <p>Cada carta representa una etapa en el ciclo de vida de un 谩rbol, desde la semilla hasta el ecosistema completo.</p>
                <p>Selecciona una tirada arriba para comenzar tu lectura.</p>
            `;
        });
    </script>
</body>
</html>